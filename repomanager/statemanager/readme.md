run these in order

1. clone
2. map
3. init-state
4. tree